## IV. خدمات پشتیبان
### خدمات پشتیبان را به عنوان منابع پیوست تلقی کنید

*سرویس پشتیبان* هر سرویسی است که برنامه از طریق شبکه به عنوان بخشی از عملکرد عادی خود استفاده می کند. مثال‌ها شامل ذخیره‌گاه‌های داده (مانند [MySQL](http://dev.mysql.com/) یا [CouchDB](http://couchdb.apache.org/))، سیستم‌های پیام رسانی/صف (مانند [RabbitMQ]) http://www.rabbitmq.com/) یا [Beanstalkd](https://beanstalkd.github.io))، خدمات SMTP برای ایمیل های خروجی (مانند [Postfix](http://www.postfix.org/ ))، و سیستم های کش (مانند [Memcached](http://memcached.org/)).

خدمات پشتیبان مانند پایگاه داده به طور سنتی توسط همان مدیران سیستمی مدیریت می شوند که زمان اجرای برنامه را مستقر می کنند. علاوه بر این سرویس‌های مدیریت شده محلی، برنامه ممکن است خدماتی نیز داشته باشد که توسط اشخاص ثالث ارائه و مدیریت می‌شوند. به عنوان مثال، خدمات SMTP (مانند [Postmark](http://postmarkapp.com/))، خدمات جمع‌آوری معیارها (مانند [New Relic](http://newrelic.com/) یا [Loggly](http: //www.loggly.com/))، خدمات دارایی باینری (مانند [Amazon S3](http://aws.amazon.com/s3/))، و حتی خدمات مصرف کننده قابل دسترسی API (مانند [توئیتر]) (http://dev.twitter.com/)، [Google Maps](https://developers.google.com/maps/)، یا [Last.fm](http://www.last.fm/api )).

**کد یک برنامه دوازده عاملی هیچ تمایزی بین خدمات محلی و شخص ثالث ایجاد نمی کند.** به برنامه، هر دو منابع ضمیمه هستند که از طریق یک URL یا دیگر مکان یاب/معتبرهای ذخیره شده در [config] (./config) قابل دسترسی هستند. ). یک [deploy](./codebase) از برنامه دوازده عاملی باید بتواند یک پایگاه داده محلی MySQL را با پایگاه داده ای که توسط شخص ثالث مدیریت می شود (مانند [Amazon RDS] (http://aws.amazon.com/) تعویض کند. rds/)) بدون هیچ تغییری در کد برنامه. به همین ترتیب، یک سرور SMTP محلی را می توان با یک سرویس SMTP شخص ثالث (مانند Postmark) بدون تغییر کد تعویض کرد. در هر دو مورد، فقط دسته منبع در پیکربندی باید تغییر کند.

هر سرویس پشتیبان مجزا یک *منبع* است. به عنوان مثال، پایگاه داده MySQL یک منبع است. دو پایگاه داده MySQL (که برای اشتراک گذاری در لایه برنامه استفاده می شود) به عنوان دو منبع مجزا واجد شرایط هستند. برنامه دوازده عاملی این پایگاه‌های داده را به‌عنوان *منابع پیوست* در نظر می‌گیرد، که نشان‌دهنده اتصال ضعیف آن‌ها به استقراری است که به آن متصل شده‌اند.

<img src="/images/attached-resources.png" class="full" alt="استقرار تولید متصل به چهار سرویس پشتیبان." />

منابع را می توان به دلخواه به استقرارها متصل کرد و از آنها جدا کرد. به عنوان مثال، اگر پایگاه داده برنامه به دلیل مشکل سخت افزاری بد رفتار کند، مدیر برنامه ممکن است سرور پایگاه داده جدیدی را که از یک نسخه پشتیبان اخیر بازیابی شده است، بچرخاند. پایگاه داده تولید فعلی را می توان جدا کرد، و پایگاه داده جدید پیوست -- همه بدون هیچ تغییری در کد.