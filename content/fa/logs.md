## یازدهم. سیاههها
### گزارش‌ها را به عنوان جریان رویداد در نظر بگیرید

*Logs* عملکرد یک برنامه در حال اجرا را مشاهده می کند. در محیط های مبتنی بر سرور، آنها معمولاً روی یک فایل روی دیسک (یک "logfile") نوشته می شوند. اما این فقط یک فرمت خروجی است.

گزارش‌ها [جریان] (https://adam.herokuapp.com/past/2011/4/1/logs_are_streams_not_files/) رویدادهای انباشته‌شده با ترتیب زمانی هستند که از جریان‌های خروجی همه فرآیندهای در حال اجرا و خدمات پشتیبان جمع‌آوری شده‌اند. گزارش‌ها در شکل خام خود معمولاً یک قالب متنی با یک رویداد در هر خط هستند (اگرچه بک‌تریس از استثناها ممکن است چندین خط را در بر بگیرد). گزارش‌ها شروع یا پایان ثابتی ندارند، اما تا زمانی که برنامه کار می‌کند، پیوسته جریان دارند.

**یک برنامه دوازده عاملی هرگز به مسیریابی یا ذخیره سازی جریان خروجی خود اهمیت نمی دهد.** نباید سعی در نوشتن یا مدیریت فایل های گزارش داشته باشد. در عوض، هر فرآیند در حال اجرا، جریان رویداد خود را بدون بافر در «stdout» می‌نویسد. در طول توسعه محلی، توسعه‌دهنده این جریان را در پیش‌زمینه ترمینال خود مشاهده می‌کند تا رفتار برنامه را مشاهده کند.

در استقرار مرحله‌بندی یا تولید، جریان هر فرآیند توسط محیط اجرا ضبط می‌شود، با تمام جریان‌های دیگر از برنامه ترکیب می‌شود و برای مشاهده و بایگانی طولانی‌مدت به یک یا چند مقصد نهایی هدایت می‌شود. این مقاصد آرشیوی برای برنامه قابل مشاهده یا تنظیم نیستند و در عوض کاملاً توسط محیط اجرا مدیریت می شوند. روترهای گزارش منبع باز (مانند [Logplex](https://github.com/heroku/logplex) و [Fluentd](https://github.com/fluent/fluentd)) برای این منظور در دسترس هستند.

جریان رویداد برای یک برنامه را می توان به یک فایل هدایت کرد یا از طریق دم بیدرنگ در یک ترمینال تماشا کرد. مهمتر از همه، جریان را می توان به یک سیستم نمایه سازی و تجزیه و تحلیل گزارش مانند [Splunk](http://www.splunk.com/)، یا یک سیستم انبار داده های همه منظوره مانند [Hadoop/Hive](http ارسال کرد. ://hive.apache.org/). این سیستم‌ها قدرت و انعطاف‌پذیری زیادی را برای بررسی رفتار یک برنامه در طول زمان فراهم می‌کنند، از جمله:

* یافتن رویدادهای خاص در گذشته.
* نمودار در مقیاس بزرگ از روند (مانند درخواست در دقیقه).
* هشدار فعال با توجه به اکتشافی تعریف شده توسط کاربر (مانند هشدار زمانی که تعداد خطاها در دقیقه از یک آستانه خاص فراتر رود).